# Управляемые и неуправляемые компоненты

## Определение

Концепция разделения компонентов на **управляемые и неуправляемые** позволяет более явно определять место хранения логики компонентов и то, как с ними можно будет работать. 

* Компонент считается управляемым, если на его состояние влияет только компонент-родитель, а сам управляемый компонент занимается только отображением данных и отправкой событий "наверх"
* Неуправляемые компоненты не дают возможности влиять на их состояние. Они сами обрабатывают состояние. Хотя они и могут отправлять события родителю, это не будет влиять на них. 

## Пример

**Примером может быть абстрактный компонент `Input`.**

В случае, если мы сделаем его контролируемым:

* У него не будет своего состояния
* Он будет принимать параметр `value`
* Компонент-родитель будет решать, как обрабатывать (и обрабатывать ли вообще) `onChange`

Если сделать его неконтролируемым:

* У `Input` будет состояние с данными, введенными в поле
* Он не будет принимать `value` от родителя, а будет хранить его сам
* Он сам будет обрабатывать `onChange`, менять свое состояние, и отправлять родителю результат
* Компонент-родитель не сможет влиять на его значение

## В коде

**Управляемый `Input`:**

```javascript
const Input = ({ value, onChange }) => {
    return <input
    	value={value}
    	onChange={(e) => {
            onChange(e.target.value);
    	}}
    />;
}
```

**Неуправляемый `Input`:**

```javascript
const Input = ({ onChange }) => {
    const [value, setValue] = useState('');
    return <input
    	value={value}
    	onChange={(e) => {
            setValue(e.target.value);
            onChange(e.target.value);
    	}}
    />;
}
```

## Плюсы и минусы

| Тип           | Плюсы                            | Минусы                                          |
| ------------- | -------------------------------- | ----------------------------------------------- |
| Управляемые   | - Можно поменять состояние извне | - Нужно писать дополнительную логику в родителе |
| Неуправляемые | - Вся логика внутри компонента   | - Нельзя повлиять извне                         |

