# Асинхронные функции

## Определение

**Асинхронные функции** – вид функций, позволяющий работать с асинхронными операциями так, как если бы они были синхронными. 

## Синтаксис

Функция будет считаться асинхронной, если добавить перед её объявлением ключевое слово `async`:

* `async function foo() {...}`
* `async function() {...}`
* `async () => {...}`

## Принцип работы

* Асинхронная функция в начале работы сразу возвращает [промис](async_promises.md)
* Когда в асинхронной функции встречается `return` (или она завершается без `return`), возвращенный промис отмечается выполненным с этим значением
* В асинхронных функциях доступно ключевое слово `await`, позволяющая ожидать выполнения промисов

## `Await`

Ключевое слово `await` предназначено для того, чтобы представить асинхронный код с обработчиками в `then` и `catch` в виде синхронного. Если указать `await` перед промисом (в том числе вызовом другой асинхронной функции), функция остановится и будет ожидать его выполнения. В случае завершения промиса **успешно**, его значение будет возвращено:

```javascript
const result = await axios.get("https://google.com");
```

> Это позволяет представить такой код:
>
> ```javascript
> doSomething()
> 	.then(doSomethingElse)
> 	.then(doSomethingElse2)
> 	.then(doSomethingElse3)
> 	.then(doSomethingElse4)
> ```
>
> В таком виде:
>
> ```javascript
> await doSomething();
> await doSomethingElse();
> await doSomethingElse2();
> await doSomethingElse3();
> await doSomethingElse4();
> ```

## Обработка ошибок

В асинхронных функциях обработка ошибок аналогична таковой в обычных функциях (см [обработка ошибок](errors.md)):

```javascript
try {
  // любой код
  const result = await axios.get("https://google.com");
  // любой код
} catch(error) {
 	// обработка ошибки 
}
```

